# FlowMatching 


[请看这个笔记](https://zhuanlan.zhihu.com/p/16113190076)


假设位置是 $x(t)$

并且我们还知道 x(t) 其实是在 x_0 和 x_1 之间的一个值（甚至可以看作加权平均）所以可以得到下面这个式子

$$ x(t) = t \times x_1  + (1-t) \times x_0 $$

对其求导就得到了 
$$

\frac{dx(t)}{dt} = x_1 - x_0

$$

所以假设 x_0 到 x_1 是一个线性的过程的话，那么每一步的变化率恒定为 $x_1 - x_0$ 这无疑是一个很好的数学性质。

所以loss就可以设计为


$$ MSE(v(x_t,t) , x_1 - x_0 )$$

其中v就表示神经网络用 $x_t$ 和 $t$ 预测出来的此时的加速度，aka流场， aka x(t) 的导数 